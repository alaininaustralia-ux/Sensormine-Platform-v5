{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Device Simulator",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev", "--", "-p", "3021"],
      "cwd": "${workspaceFolder}/src/Web/device-simulator",
      "console": "integratedTerminal",
      "serverReadyAction": {
        "pattern": "- Local:.+http://localhost:([0-9]+)",
        "uriFormat": "http://localhost:%s",
        "action": "openExternally"
      }
    },
    {
      "name": "Sensormine Web",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "cwd": "${workspaceFolder}/src/Web/sensormine-web",
      "console": "integratedTerminal",
      "serverReadyAction": {
        "pattern": "- Local:.+http://localhost:([0-9]+)",
        "uriFormat": "http://localhost:%s",
        "action": "openExternally"
      }
    },
    {
      "name": "ApiGateway",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-apigateway",
      "program": "${workspaceFolder}/src/Services/ApiGateway/bin/Debug/net9.0/ApiGateway.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/ApiGateway",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "SchemaRegistry.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-schemaregistry-api",
      "program": "${workspaceFolder}/src/Services/SchemaRegistry.API/bin/Debug/net9.0/SchemaRegistry.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/SchemaRegistry.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Device.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-device-api",
      "program": "${workspaceFolder}/src/Services/Device.API/bin/Debug/net9.0/Device.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Device.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Alerts.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-alerts-api",
      "program": "${workspaceFolder}/src/Services/Alerts.API/bin/Debug/net9.0/Alerts.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Alerts.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "DigitalTwin.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-digitaltwin-api",
      "program": "${workspaceFolder}/src/Services/DigitalTwin.API/bin/Debug/net9.0/DigitalTwin.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/DigitalTwin.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Edge.Gateway",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-edge-gateway",
      "program": "${workspaceFolder}/src/Services/Edge.Gateway/bin/Debug/net9.0/Edge.Gateway.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Edge.Gateway",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Ingestion.Service",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-ingestion-service",
      "program": "${workspaceFolder}/src/Services/Ingestion.Service/bin/Debug/net9.0/Ingestion.Service.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Ingestion.Service",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Query.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-query-api",
      "program": "${workspaceFolder}/src/Services/Query.API/bin/Debug/net9.0/Query.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Query.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "StreamProcessing.Service",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-streamprocessing-service",
      "program": "${workspaceFolder}/src/Services/StreamProcessing.Service/bin/Debug/net9.0/StreamProcessing.Service.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/StreamProcessing.Service",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "VideoMetadata.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-videometadata-api",
      "program": "${workspaceFolder}/src/Services/VideoMetadata.API/bin/Debug/net9.0/VideoMetadata.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/VideoMetadata.API",
      "stopAtEntry": false,
      "serverReadyAction": {
        "action": "debugWithChrome",
        "pattern": "\\bNow listening on:\\s+(https?://\\S+)",
        "uriFormat": "%s/swagger"
      },
      "launchBrowser": {
        "enabled": false
      },
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_URLS": "http://localhost:5298"
      }
    },
    {
      "name": "Billing.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-billing-api",
      "program": "${workspaceFolder}/src/Services/Billing.API/bin/Debug/net9.0/Billing.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Billing.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Simulation.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-simulation-api",
      "program": "${workspaceFolder}/src/Services/Simulation.API/bin/Debug/net9.0/Simulation.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Simulation.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },    {
      "name": "AI.API",
      "type": "coreclr",
      "request": "launch",
      "program": "${workspaceFolder}/src/Services/AI.API/bin/Debug/net9.0/AI.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/AI.API",
      "stopAtEntry": false,
      "launchBrowser": {
        "enabled": false
      },
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_URLS": "http://localhost:5401"
      }
    },
    {
      "name": "Template.API",
      "type": "coreclr",
      "request": "launch",
      "program": "${workspaceFolder}/src/Services/Template.API/bin/Debug/net9.0/Template.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Template.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_URLS": "http://localhost:5320"
      },
      "serverReadyAction": {
        "action": "openExternally",
        "pattern": "\\bNow listening on:\\s+(https?://\\S+)",
        "uriFormat": "%s/swagger"
      }
    },
    {
      "name": "Preferences.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-preferences-api",
      "program": "${workspaceFolder}/src/Services/Preferences.API/bin/Debug/net9.0/Preferences.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Preferences.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Dashboard.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-dashboard-api",
      "program": "${workspaceFolder}/src/Services/Dashboard.API/bin/Debug/net9.0/Dashboard.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Dashboard.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Identity.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-identity-api",
      "program": "${workspaceFolder}/src/Services/Identity.API/bin/Debug/net9.0/Identity.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Identity.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_URLS": "http://localhost:5072"
      }
    },
    {
      "name": "NexusConfiguration.API",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build-nexusconfiguration-api",
      "program": "${workspaceFolder}/src/Services/NexusConfiguration.API/bin/Debug/net9.0/NexusConfiguration.API.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/NexusConfiguration.API",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    },
    {
      "name": "Sensormine.MCP.Server",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build",
      "program": "${workspaceFolder}/src/Services/Sensormine.MCP.Server/bin/Debug/net9.0/Sensormine.MCP.Server.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/Services/Sensormine.MCP.Server",
      "stopAtEntry": false,
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_URLS": "http://localhost:5400"
      }
    }
  ],
  "compounds": [
    {
      "name": "All Web Apps",
      "configurations": ["Sensormine Web", "Device Simulator"]
    },
    {
      "name": "Core APIs",
      "configurations": [
        "ApiGateway",
        "SchemaRegistry.API",
        "Device.API",
        "Preferences.API",
        "Dashboard.API",
        "Identity.API",
        "Sensormine.MCP.Server"
      ]
    },
    {
      "name": "All APIs",
      "configurations": [
        "ApiGateway",
        "SchemaRegistry.API",
        "Device.API",
        "Preferences.API",
        "Dashboard.API",
        "Identity.API",
        "NexusConfiguration.API",
        "Sensormine.MCP.Server",
        "Alerts.API",
        "DigitalTwin.API",
        "Edge.Gateway",
        "Ingestion.Service",
        "Query.API",
        "StreamProcessing.Service",
        "VideoMetadata.API",
        "Billing.API"
      ]
    },
    {
      "name": "Full Stack",
      "configurations": [
        "Sensormine Web",
        "Device Simulator",
        "ApiGateway",
        "SchemaRegistry.API",
        "Device.API",
        "Preferences.API",
        "Dashboard.API",
        "Identity.API",
        "NexusConfiguration.API",
        "Sensormine.MCP.Server",
        "Alerts.API",
        "DigitalTwin.API",
        "Edge.Gateway",
        "Ingestion.Service",
        "Query.API",
        "StreamProcessing.Service",
        "VideoMetadata.API",
        "Billing.API",
        "Simulation.API",
        "Template.API"
      ]
    },
    {
      "name": "AI Agent Stack",
      "configurations": [
        "Sensormine Web",
        "AI.API",
        "Sensormine.MCP.Server",
        "Device.API",
        "Query.API",
        "DigitalTwin.API"
      ]
    }
  ]
}
