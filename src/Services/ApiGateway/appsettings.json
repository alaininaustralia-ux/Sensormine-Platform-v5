{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Yarp": "Information"
    }
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "Routes": {
      "devices-route": {
        "ClusterId": "device-cluster",
        "Match": {
          "Path": "/api/devices/{**catch-all}"
        }
      },
      "device-controller-route": {
        "ClusterId": "device-cluster",
        "Match": {
          "Path": "/api/Device/{**catch-all}"
        }
      },
      "devicetypes-route": {
        "ClusterId": "device-cluster",
        "Match": {
          "Path": "/api/devicetype/{**catch-all}"
        }
      },
      "schemas-route": {
        "ClusterId": "schema-cluster",
        "Match": {
          "Path": "/api/schemas/{**catch-all}"
        }
      },
      "query-route": {
        "ClusterId": "query-cluster",
        "Match": {
          "Path": "/api/query/{**catch-all}"
        }
      },
      "widgetdata-route": {
        "ClusterId": "query-cluster",
        "Match": {
          "Path": "/api/widgetdata/{**catch-all}"
        }
      },
      "kpidata-route": {
        "ClusterId": "query-cluster",
        "Match": {
          "Path": "/api/kpidata/{**catch-all}"
        }
      },
      "alerts-rules-route": {
        "ClusterId": "alerts-cluster",
        "Match": {
          "Path": "/api/alert-rules/{**catch-all}"
        }
      },
      "alerts-instances-route": {
        "ClusterId": "alerts-cluster",
        "Match": {
          "Path": "/api/alert-instances/{**catch-all}"
        }
      },
      "preferences-route": {
        "ClusterId": "preferences-cluster",
        "Match": {
          "Path": "/api/preferences/{**catch-all}"
        }
      },
      "userpreferences-route": {
        "ClusterId": "preferences-cluster",
        "Match": {
          "Path": "/api/UserPreferences/{**catch-all}"
        }
      },
      "siteconfig-route": {
        "ClusterId": "preferences-cluster",
        "Match": {
          "Path": "/api/SiteConfiguration/{**catch-all}"
        }
      },
      "dashboards-route": {
        "ClusterId": "dashboard-cluster",
        "Match": {
          "Path": "/api/dashboards/{**catch-all}"
        }
      },
      "files-route": {
        "ClusterId": "dashboard-cluster",
        "Match": {
          "Path": "/api/files/{**catch-all}"
        }
      },
      "assets-route": {
        "ClusterId": "digitaltwin-cluster",
        "Match": {
          "Path": "/api/assets/{**catch-all}"
        }
      },
      "simulation-route": {
        "ClusterId": "simulation-cluster",
        "Match": {
          "Path": "/api/simulation/{**catch-all}"
        }
      },
      "identity-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/identity/{**catch-all}"
        }
      },
      "tenants-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/tenants/{**catch-all}"
        }
      },
      "mcp-route": {
        "ClusterId": "mcp-cluster",
        "Match": {
          "Path": "/api/mcp/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/api" }
        ]
      },
      "users-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/users/{**catch-all}"
        }
      },
      "ai-route": {
        "ClusterId": "ai-cluster",
        "Match": {
          "Path": "/api/ai/{**catch-all}"
        }
      },
      "nexusconfig-route": {
        "ClusterId": "nexusconfig-cluster",
        "Match": {
          "Path": "/api/NexusConfiguration/{**catch-all}"
        }
      },
      "billing-route": {
        "ClusterId": "billing-cluster",
        "Match": {
          "Path": "/api/billing/{**catch-all}"
        }
      },
      "video-analytics-route": {
        "ClusterId": "videometadata-cluster",
        "Match": {
          "Path": "/api/video-analytics/{**catch-all}"
        }
      },
      "templates-route": {
        "ClusterId": "template-cluster",
        "Match": {
          "Path": "/api/templates/{**catch-all}"
        }
      }
    },
    "Clusters": {
      "device-cluster": {
        "Destinations": {
          "device-api": {
            "Address": "http://localhost:5293"
          }
        }
      },
      "schema-cluster": {
        "Destinations": {
          "schema-api": {
            "Address": "http://localhost:5021"
          }
        }
      },
      "query-cluster": {
        "Destinations": {
          "query-api": {
            "Address": "http://localhost:5079"
          }
        }
      },
      "alerts-cluster": {
        "Destinations": {
          "alerts-api": {
            "Address": "http://localhost:5295"
          }
        }
      },
      "preferences-cluster": {
        "Destinations": {
          "preferences-api": {
            "Address": "http://localhost:5296"
          }
        }
      },
      "dashboard-cluster": {
        "Destinations": {
          "dashboard-api": {
            "Address": "http://localhost:5299"
          }
        }
      },
      "digitaltwin-cluster": {
        "Destinations": {
          "digitaltwin-api": {
            "Address": "http://localhost:5297"
          }
        }
      },
      "simulation-cluster": {
        "Destinations": {
          "simulation-api": {
            "Address": "http://localhost:5200"
          }
        }
      },
      "identity-cluster": {
        "Destinations": {
          "identity-api": {
            "Address": "http://localhost:5298"
          }
        }
      },
      "nexusconfig-cluster": {
        "Destinations": {
          "nexusconfig-api": {
            "Address": "http://localhost:5179"
          }
        }
      },
      "mcp-cluster": {
        "Destinations": {
          "mcp-server": {
            "Address": "http://localhost:5400"
          }
        }
      },
      "ai-cluster": {
        "Destinations": {
          "ai-api": {
            "Address": "http://localhost:5401"
          }
        }
      },
      "billing-cluster": {
        "Destinations": {
          "billing-api": {
            "Address": "http://localhost:5294"
          }
        }
      },
      "videometadata-cluster": {
        "Destinations": {
          "videometadata-api": {
            "Address": "http://localhost:5298"
          }
        }
      },
      "template-cluster": {
        "Destinations": {
          "template-api": {
            "Address": "http://localhost:5320"
          }
        }
      }
    }
  }
}
